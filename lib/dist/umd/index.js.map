{"version":3,"sources":["webpack://ToloGameDev/webpack/universalModuleDefinition","webpack://ToloGameDev/../src/index.ts","webpack://ToloGameDev/../src/program/index.ts","webpack://ToloGameDev/../src/program/program.ts","webpack://ToloGameDev/../src/scene/index.ts","webpack://ToloGameDev/../src/scene/scene.ts","webpack://ToloGameDev/webpack/bootstrap","webpack://ToloGameDev/webpack/startup"],"names":["root","factory","exports","module","define","amd","this","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ToloGameDev\"] = factory();\n\telse\n\t\troot[\"ToloGameDev\"] = factory();\n})(this, function() {\nreturn ","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar scene_1 = __importDefault(require(\"./scene\"));\nexports.default = {\n    Scene: scene_1.default\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar program_1 = require(\"./program\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return __importDefault(program_1).default; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    create: create,\n    getAttribs: getAttribs\n};\nfunction create(gl, shaders) {\n    var prg = gl.createProgram();\n    if (!prg)\n        throw \"Unable to create Program!\";\n    gl.attachShader(prg, loadVertexShader(gl, shaders.vert));\n    gl.attachShader(prg, loadFragmentShader(gl, shaders.frag));\n    gl.linkProgram(prg);\n    // If creating the shader program failed, alert\n    if (!gl.getProgramParameter(prg, gl.LINK_STATUS)) {\n        throw \"Unable to link the shader program: \" + gl.getProgramInfoLog(prg);\n    }\n    gl.useProgram(prg);\n    return prg;\n}\n/**\n * Return an object will all the active attributes of a given Program.\n * If an attribute is defined in a shader but not used, it will be removed\n * at compilation time. In that case, it will not be returned in this function.\n */\nfunction getAttribs(gl, prg) {\n    var attribs = {};\n    var count = gl.getProgramParameter(prg, gl.ACTIVE_ATTRIBUTES);\n    for (var location_1 = 0; location_1 < count; ++location_1) {\n        var info = gl.getActiveAttrib(prg, location_1);\n        if (!info)\n            continue;\n        var name_1 = info.name, size = info.size, type = info.type;\n        attribs[info.name] = { name: name_1, location: location_1, size: size, type: type };\n    }\n    return attribs;\n}\nfunction loadVertexShader(gl, code) {\n    try {\n        return loadShader(gl, code, gl.VERTEX_SHADER);\n    }\n    catch (ex) {\n        console.info(code);\n        throw \"Unable to compile VERTEX shader: \" + ex;\n    }\n}\nfunction loadFragmentShader(gl, code) {\n    try {\n        return loadShader(gl, code, gl.FRAGMENT_SHADER);\n    }\n    catch (ex) {\n        console.info(code);\n        throw \"Unable to compile FRAGMENT shader: \" + ex;\n    }\n}\nfunction loadShader(gl, code, type) {\n    var shader = gl.createShader(type);\n    if (!shader)\n        throw \"Invalid shader type: \" + type + \"!\";\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        var message = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw message;\n    }\n    return shader;\n}\n//# sourceMappingURL=program.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar scene_1 = require(\"./scene\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return __importDefault(scene_1).default; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar program_1 = __importDefault(require(\"../program\"));\nvar Scene = /** @class */ (function () {\n    function Scene(canvas, settings) {\n        var _this = this;\n        this.canvas = canvas;\n        this.lastWidth = 0;\n        this.lastHeight = 0;\n        this.program = {\n            create: function (shaders) { return program_1.default.create(_this.gl, shaders); }\n        };\n        this.settings = __assign({ alpha: false, desynchronized: false, antialias: false, depth: true, failIfMajorPerformanceCaveat: false, powerPreference: \"default\", premultipliedAlpha: false, preserveDrawingBuffer: false, stencil: false }, settings);\n        var gl2 = canvas.getContext(\"webgl2\", this.settings);\n        if (gl2) {\n            this.gl = gl2;\n            this.webglVersion = 2;\n        }\n        else {\n            var gl = canvas.getContext(\"webgl\", this.settings);\n            if (!gl)\n                throw \"Impossible to create a WebGL context!\";\n            this.gl = gl;\n            this.webglVersion = 1;\n        }\n        this.resize();\n    }\n    Scene.prototype.createArrayBufferStatic = function (data) {\n        var gl = this.gl;\n        var buff = gl.createBuffer();\n        if (!buff)\n            throw \"Unable to create data buffer!\";\n        gl.bindBuffer(gl.ARRAY_BUFFER, buff);\n        gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n        return buff;\n    };\n    /**\n     * Call this function at every frame render to ensure that the canvas size is reported to the WebGL scene viewport.\n     */\n    Scene.prototype.resize = function () {\n        var _a = this, lastWidth = _a.lastWidth, lastHeight = _a.lastHeight, canvas = _a.canvas, gl = _a.gl;\n        var rect = canvas.getBoundingClientRect();\n        if (lastWidth !== rect.width || lastHeight !== rect.height) {\n            canvas.setAttribute(\"width\", \"\" + rect.width);\n            canvas.setAttribute(\"height\", \"\" + rect.height);\n            this.lastWidth = rect.width;\n            this.lastHeight = rect.height;\n            gl.viewport(0, 0, this.lastWidth, this.lastHeight);\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"width\", {\n        get: function () { return this.gl.drawingBufferWidth; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"height\", {\n        get: function () { return this.gl.drawingBufferHeight; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"aspectRatio\", {\n        /**\n         * Return the current aspect ratio: width / height.\n         */\n        get: function () {\n            var gl = this.gl;\n            return gl.drawingBufferWidth / gl.drawingBufferHeight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Scene;\n}());\nexports.default = Scene;\n//# sourceMappingURL=scene.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(287);\n"],"sourceRoot":""}